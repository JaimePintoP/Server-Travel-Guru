(this["webpackJsonpget-scripts"]=this["webpackJsonpget-scripts"]||[]).push([[0],{40:function(t,e,n){},63:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n(1),s=n.n(i),r=n(32),o=n.n(r),c=n(4),l=n(2),h=n(3),u=n(6),p=n(5),d=(n(40),n(8)),j=n(15),b=n(7),v=n.n(b),m=new(function(){function t(){Object(l.a)(this,t),this.auth=v.a.create({baseURL:"https://travel-guru.herokuapp.com",withCredentials:!0})}return Object(h.a)(t,[{key:"signup",value:function(t,e,n,a,i){return console.log("stringname",t,"stringusername",e,"stringemail",n,"stringpassword",a,"stringimage",i),this.auth.post("/auth/signup",{name:t,username:e,email:n,password:a,image:i}).then((function(t){return t.data}))}},{key:"login",value:function(t,e){return this.auth.post("/auth/login",{username:t,password:e}).then((function(t){return t.data}))}},{key:"logout",value:function(){return this.auth.get("/auth/logout").then((function(t){return t.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(t){return t.data}))}}]),t}()),g=s.a.createContext(),O=g.Consumer,x=g.Provider,f=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={isLoggedIn:!1,isLoading:!0,user:null},t.signup=function(e,n,a,i,s){m.signup(e,n,a,i,s).then((function(e){return t.setState({isLoggedIn:!0,user:e})})).catch((function(e){t.setState({isLoggedIn:!1,user:null})}))},t.login=function(e,n){m.login(e,n).then((function(e){return t.setState({isLoggedIn:!0,user:e})})).catch((function(e){t.setState({isLoggedIn:!1,user:null})}))},t.logout=function(){m.logout().then((function(){return t.setState({isLoggedIn:!1,user:null})})).catch((function(t){return console.log(t)}))},t}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=this;m.me().then((function(e){return t.setState({isLoggedIn:!0,user:e,isLoading:!1})})).catch((function(e){return t.setState({isLoggedIn:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var t=this.state,e=t.isLoggedIn,n=t.isLoading,i=t.user,s=this.signup,r=this.login,o=this.logout;return n?Object(a.jsx)("p",{children:"Loading"}):Object(a.jsx)(x,{value:{isLoggedIn:e,isLoading:n,user:i,signup:s,login:r,logout:o},children:this.props.children})}}]),n}(s.a.Component),y=function(t){return function(e){Object(u.a)(i,e);var n=Object(p.a)(i);function i(){return Object(l.a)(this,i),n.apply(this,arguments)}return Object(h.a)(i,[{key:"render",value:function(){var e=this;return Object(a.jsx)(O,{children:function(n){var i=n.isLoggedIn,s=n.isLoading,r=n.user,o=n.signup,c=n.login,l=n.logout;return Object(a.jsx)(t,Object(j.a)(Object(j.a)({},e.props),{},{isLoggedIn:i,isLoading:s,user:r,signup:o,login:c,logout:l}))}})}}]),i}(s.a.Component)},C=(n(30),y(function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("nav",{class:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(a.jsx)(c.b,{className:"navbar-brand",to:"/dashboard",id:"home-btn",children:"Travel Guru"}),Object(a.jsx)("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(a.jsx)("span",{class:"navbar-toggler-icon"})}),Object(a.jsx)("div",{class:"collapse navbar-collapse",id:"navbarSupportedContent",children:this.props.isLoggedIn?Object(a.jsxs)("ul",{class:"navbar-nav ml-auto",children:[Object(a.jsx)("li",{class:"nav-item",children:Object(a.jsx)(c.b,{className:"nav-link",to:"/dashboard",id:"home-btn",children:"Search"})}),Object(a.jsx)("li",{class:"nav-item",children:Object(a.jsx)(c.b,{className:"nav-link",to:"/profile/".concat(this.props.user._id),children:"Profile"})}),Object(a.jsx)("li",{class:"nav-item",children:Object(a.jsx)(c.b,{className:"nav-link",to:"/createPost",children:"Create Post"})}),Object(a.jsx)("li",{class:"nav-item",children:Object(a.jsx)(c.b,{className:"nav-link",to:"/myPosts/".concat(this.props.user._id),children:"My Posts"})}),Object(a.jsx)("li",{class:"nav-item",children:Object(a.jsx)(c.b,{className:"nav-link",to:"/favoritePosts/".concat(this.props.user._id),children:"My Favorites"})}),Object(a.jsx)("li",{class:"nav-item",children:Object(a.jsx)(c.b,{className:"nav-link",to:"/travelLogs",children:"My Travel Log"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(c.b,{className:"nav-link",onClick:this.props.logout,children:"Logout"})}),Object(a.jsx)("li",{class:"nav-item nav-link active",children:Object(a.jsxs)("p",{children:["Welcome ",this.props.user&&this.props.user.username]})})]}):Object(a.jsxs)("ul",{class:"navbar-nav ml-auto",children:[Object(a.jsx)("li",{class:"nav-item",children:Object(a.jsx)(c.b,{className:"nav-link",to:"/",id:"home-btn",children:Object(a.jsx)("p",{children:"Home"})})}),Object(a.jsx)("li",{class:"nav-item",children:Object(a.jsx)(c.b,{className:"nav-link",to:"/login",children:"Login"})}),Object(a.jsx)("li",{class:"nav-item",children:Object(a.jsx)(c.b,{className:"nav-link",to:"/signup",children:"Sign Up"})})]})})]})}}]),n}(i.Component))),k=y(function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)("p",{children:"Copyright \xa9 2020 Travel Guru "})})}}]),n}(s.a.Component));var S=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Home Page"}),Object(a.jsx)("div",{children:"header image"}),Object(a.jsxs)("div",{children:[Object(a.jsx)(c.b,{to:"/signup",children:Object(a.jsx)("button",{children:"Sign Up"})}),Object(a.jsx)(c.b,{to:"login",children:Object(a.jsx)("button",{children:"Login"})})]}),Object(a.jsx)("h4",{children:"What is Travel Guru?"}),Object(a.jsx)("p",{children:"Travel Guru is a platform where you can interact with other users about travel experiences. Create a travel post to share your wonderful trips, comment on other users posts and add them to your favorites!. Also you have a private section dedicated for your next travel ideas, go and check your Travel Log!"})]})},w=n(10),L=y(function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={name:"",username:"",email:"",password:"",image:"",imageReady:!1},t.handleChange=function(e){var n=e.target,a=n.name,i=n.value;t.setState(Object(w.a)({},a,i))},t.handleFormSubmit=function(e){e.preventDefault();var n=t.state,a=n.name,i=n.username,s=n.email,r=n.password,o=n.image;o?t.props.signup(a,i,s,r,o):t.props.signup(a,i,s,r)},t.handleFileUpload=function(e){console.log("The file to be uploaded is: ",e.target.files);var n=e.target.files[0],a=new FormData;a.append("image",n),v.a.post("".concat("https://travel-guru.herokuapp.com","/auth/upload"),a,{withCredentials:!0}).then((function(e){t.setState({image:e.data.secure_url,isReady:!0})})).catch((function(t){console.log("Error while uploading the file: ",t)}))},t}return Object(h.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.username,i=t.email,s=t.password;t.image;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Sign Up"}),Object(a.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(a.jsx)("label",{children:"Name:"}),Object(a.jsx)("input",{type:"text",name:"name",value:e,onChange:this.handleChange}),Object(a.jsx)("label",{children:"Username:"}),Object(a.jsx)("input",{type:"text",name:"username",value:n,onChange:this.handleChange}),Object(a.jsx)("label",{children:"Email:"}),Object(a.jsx)("input",{type:"text",name:"email",value:i,onChange:this.handleChange}),Object(a.jsx)("label",{children:"Password:"}),Object(a.jsx)("input",{type:"password",name:"password",value:s,onChange:this.handleChange}),Object(a.jsx)("label",{children:"Image:"}),Object(a.jsx)("input",{type:"file",onChange:this.handleFileUpload}),Object(a.jsx)("input",{type:"submit",value:"Signup",disabled:!this.state.isReady})]}),Object(a.jsx)("p",{children:"Already have account?"}),Object(a.jsx)(c.b,{to:"/login",children:" Login"})]})}}]),n}(i.Component)),A=y(function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={username:"",password:""},t.handleFormSubmit=function(e){e.preventDefault();var n=t.state,a=n.username,i=n.password;t.props.login(a,i)},t.handleChange=function(e){var n=e.target,a=n.name,i=n.value;t.setState(Object(w.a)({},a,i))},t}return Object(h.a)(n,[{key:"render",value:function(){var t=this.state,e=t.username,n=t.password;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Login"}),Object(a.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(a.jsx)("label",{children:"Username:"}),Object(a.jsx)("input",{type:"text",name:"username",value:e,onChange:this.handleChange}),Object(a.jsx)("label",{children:"Password:"}),Object(a.jsx)("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),Object(a.jsx)("input",{type:"submit",value:"Login"}),Object(a.jsx)(c.b,{exact:!0,to:"/signup",children:Object(a.jsx)("button",{children:"Sign Up"})})]})]})}}]),n}(i.Component)),I=y(function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={name:"",username:"",nationality:"",email:"",myFavoriteTrip:"",description:"",image:"",_id:""},t}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.userId;v.a.get("".concat("https://travel-guru.herokuapp.com","/api/profile/").concat(e),{withCredentials:!0}).then((function(e){var n=e.data,a=n.name,i=n.username,s=n.nationality,r=n.email,o=n.myFavoriteTrip,c=n.description,l=n.image,h=n._id;t.setState({name:a,username:i,nationality:s,email:r,myFavoriteTrip:o,description:c,image:l,_id:h})})).catch((function(t){return console.log(t)}))}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{src:this.state.image,alt:"User profile"}),Object(a.jsxs)("h2",{children:["name ",this.state.name]}),Object(a.jsx)(c.b,{to:{pathname:"/editProfile/".concat(this.state._id),state:{userInfo:this.state}},children:"Edit Profile"})]}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("p",{children:["email ",this.state.email]}),Object(a.jsxs)("p",{children:["username ",this.state.username]}),Object(a.jsxs)("p",{children:["nationality ",this.state.nationality]}),Object(a.jsxs)("p",{children:["fav trip ",this.state.myFavoriteTrip]}),Object(a.jsxs)("p",{children:["description ",this.state.description]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)(c.b,{exact:!0,to:"/favoritePosts/".concat(this.state._id),children:Object(a.jsx)("button",{children:"Favorite Posts"})}),Object(a.jsx)(c.b,{exact:!0,to:"/createPost",children:Object(a.jsx)("button",{children:"Create a Post"})}),Object(a.jsx)(c.b,{exact:!0,to:"/travelLogs",children:Object(a.jsx)("button",{children:"Travel Log"})})]})]})}}]),n}(s.a.Component));var F=y((function(t){var e=t.isLoggedIn,n=t.isLoading,i=t.component,s=t.exact,r=t.path;return n?"Loading":Object(a.jsx)(d.b,{exact:s,path:r,render:function(t){return e?Object(a.jsx)(d.a,{to:"/dashboard"}):e?void 0:Object(a.jsx)(i,Object(j.a)({},t))}})}));var P=y((function(t){var e=t.isLoggedIn,n=t.isLoading,i=t.component,s=t.exact,r=t.path;return n?"Loading":Object(a.jsx)(d.b,{exact:s,path:r,render:function(t){return e?e?Object(a.jsx)(i,Object(j.a)({},t)):void 0:Object(a.jsx)(d.a,{to:"/login"})}})})),T=y(function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={name:void 0,username:void 0,nationality:void 0,myFavoriteTrip:void 0,description:void 0,image:void 0,isReady:!0},t.handleChange=function(e){var n=e.target,a=n.name,i=n.value;t.setState(Object(w.a)({},a,i))},t.handleFormSubmit=function(e){e.preventDefault();var n=t.state,a=n.name,i=n.username,s=n.nationality,r=n.myFavoriteTrip,o=n.description,c=n.image,l=t.props.match.params.userId;v.a.put("".concat("https://travel-guru.herokuapp.com","/api/editProfile/").concat(l),{name:a,username:i,nationality:s,myFavoriteTrip:r,description:o,image:c},{withCredentials:!0}).then((function(){t.props.history.push("/profile/".concat(l))})).catch((function(t){return console.log(t)}))},t.handleFileUpload=function(e){console.log("The file to be uploaded is: ",e.target.files);var n=e.target.files[0],a=new FormData;a.append("image",n),t.setState({isReady:!1},(function(){v.a.post("".concat("https://travel-guru.herokuapp.com","/api/upload"),a,{withCredentials:!0}).then((function(e){console.log("response is: ",e),t.setState({image:e.data.secure_url,isReady:!0})})).catch((function(t){console.log("Error while uploading the file: ",t)}))}))},t}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;this.props.location.state?this.setState({name:this.props.location.state.userInfo.name,username:this.props.location.state.userInfo.username,nationality:this.props.location.state.userInfo.nationality,myFavoriteTrip:this.props.location.state.userInfo.myFavoriteTrip,description:this.props.location.state.userInfo.description,image:this.props.location.state.userInfo.image}):this.props.history.push("/profile/".concat(t))}},{key:"render",value:function(){return console.log("object",this.props.location.state),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{src:this.state.image,alt:"User profile"}),Object(a.jsx)("h2",{children:this.state.name})]}),Object(a.jsx)("div",{children:Object(a.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(a.jsx)("label",{children:"Name:"}),Object(a.jsx)("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange}),Object(a.jsx)("label",{children:"Username:"}),Object(a.jsx)("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),Object(a.jsx)("label",{children:"Nationality:"}),Object(a.jsx)("input",{type:"text",name:"nationality",value:this.state.nationality,onChange:this.handleChange}),Object(a.jsx)("label",{children:"Favorite Trip:"}),Object(a.jsx)("input",{type:"text",name:"myFavoriteTrip",value:this.state.myFavoriteTrip,onChange:this.handleChange}),Object(a.jsx)("label",{children:"Description:"}),Object(a.jsx)("textarea",{name:"description",value:this.state.description,onChange:this.handleChange}),Object(a.jsx)("label",{children:"Image"}),Object(a.jsx)("input",{name:"image",type:"file",onChange:this.handleFileUpload}),Object(a.jsx)("span",{children:Object(a.jsx)("img",{style:{width:"100px"},src:this.state.image&&this.state.image,alt:""})}),Object(a.jsx)("button",{type:"submit",disabled:!this.state.isReady,children:"Submit"})]})}),this.props.location.state.userInfo?Object(a.jsx)("div",{children:Object(a.jsx)(c.b,{to:"/deleteProfileConfirmation/".concat(this.props.location.state.userInfo._id),children:"Delete Account"})}):null]})}}]),n}(s.a.Component)),D=n(34),_=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={search:""},t.handleSearch=function(e){var n=e.target,a=n.value,i=n.name;t.setState(Object(w.a)({},i,a)),t.props.filteredPostsSearch(a)},t}return Object(h.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"text",placeholder:"Search by Country/City...",name:"search",value:this.state.search,onChange:this.handleSearch}),Object(a.jsx)("button",{type:"submit",children:"Search"})]})}}]),n}(s.a.Component),U=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)(c.b,{to:"/postDetails/".concat(this.props.post._id),children:[Object(a.jsx)("h2",{children:this.props.post.title}),Object(a.jsx)("h3",{children:this.props.post.country}),Object(a.jsx)("h4",{children:this.props.post.city})]})})}}]),n}(s.a.Component),R=y(function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={postArray:[],search:[]},t.filteredPost=function(e){var n=Object(D.a)(t.state.postArray).filter((function(t){var n=e.toLowerCase(),a=t.country.toLowerCase(),i=t.city.toLowerCase();return a.includes(n)||i.includes(n)}));t.setState({search:n})},t}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=this;v.a.get("".concat("https://travel-guru.herokuapp.com","/api/dashboard"),{withCredentials:!0}).then((function(e){t.setState({postArray:e.data})})).catch((function(t){return console.log(t)}))}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(_,{postSearch:this.state.postArray,filteredPostsSearch:this.filteredPost}),this.state.search[0]?this.state.search.map((function(t){return Object(a.jsx)(U,{post:t})})):this.state.postArray.map((function(t){return Object(a.jsx)(U,{post:t})}))]})}}]),n}(s.a.Component)),N=y(function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:this.props.postDetails.commentAuthor.username}),Object(a.jsx)("p",{children:this.props.postDetails.description})]})}}]),n}(s.a.Component)),M=y(function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={description:void 0,isRender:!1},t.handleChange=function(e){var n=e.target,a=n.name,i=n.value;t.setState(Object(w.a)({},a,i))},t}return Object(h.a)(n,[{key:"render",value:function(){var t=this;return Object(a.jsx)("div",{children:Object(a.jsxs)("form",{onSubmit:function(){return t.props.handleFormSubmit(t.state.description)},children:[Object(a.jsx)("textarea",{name:"description",value:this.state.description,onChange:this.handleChange}),Object(a.jsx)("button",{type:"submit",children:"Send"})]})})}}]),n}(s.a.Component)),H=y(function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={postDetails:"",postAuthor:"",commentsArray:[],isActive:!1},t.getPost=function(){var e=t.props.match.params.postId;v.a.get("".concat("https://travel-guru.herokuapp.com","/api/post/").concat(e),{withCredentials:!0}).then((function(e){t.setState({postDetails:e.data,postAuthor:e.data.postAuthor.name,commentsArray:e.data.comments})})).catch((function(t){return console.log(t)}))},t.handleFavorite=function(){var e=t.props.match.params.postId,n=t.props.user._id;console.log("usr",n),v.a.post("".concat("https://travel-guru.herokuapp.com","/api/favoritePost/add/").concat(e,"/").concat(n),{withCredentials:!0}).then((function(e){console.log("response comment",e),t.props.history.push("/favoritePosts/".concat(t.props.user._id))})).catch((function(t){return console.log(t)}))},t.handleFormSubmit=function(e){var n=t.props.match.params.postId;v.a.post("".concat("https://travel-guru.herokuapp.com","/api/createComment/").concat(n),{description:e},{withCredentials:!0}).then((function(e){console.log("response",e),t.getPost()})).catch((function(t){return console.log(t)}))},t.handleToggle=function(){t.setState({isActive:!t.state.isActive})},t}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.getPost()}},{key:"render",value:function(){var t=this.state.postDetails,e=t.title,n=t.image,i=t.country,s=t.city,r=t.description;t.updated_at;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:e}),Object(a.jsx)("img",{src:n,alt:"a photo of this post"}),Object(a.jsx)("h2",{children:i}),Object(a.jsx)("h3",{children:s}),Object(a.jsx)("p",{children:r}),Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:this.state.postAuthor}),this.state.postDetails.updated_at?this.state.postDetails.updated_at.slice(0,10).split("-").reverse().join("-"):null]}),Object(a.jsx)("button",{type:"submit",onClick:this.handleFavorite,children:"Save to Favorites"}),Object(a.jsx)("button",{onClick:this.handleToggle,children:"Write a comment"}),this.state.isActive?Object(a.jsx)(M,{handleFormSubmit:this.handleFormSubmit}):null,this.state.commentsArray.map((function(t){return Object(a.jsx)(N,{postDetails:t})}))]})}}]),n}(s.a.Component)),E=y(function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={postsArr:[]},t}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.userId;this.setState({userId:e}),v.a.get("".concat("https://travel-guru.herokuapp.com","/api/myPosts/").concat(e),{withCredentials:!0}).then((function(e){console.log("reponse",e);var n=e.data;t.setState({postsArr:n})})).catch((function(t){return console.log(t)}))}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[this.state.postsArr&&this.state.postsArr.length>0?this.state.postsArr.map((function(t){return Object(a.jsxs)("div",{children:[Object(a.jsx)(U,{post:t}),Object(a.jsx)(c.b,{exact:!0,to:{pathname:"/editPost/".concat(t._id),state:{post:t}},children:Object(a.jsx)("button",{children:"Edit Post"})})]})})):Object(a.jsxs)("p",{children:["You don't have any Travel Posts. Create one"," ",Object(a.jsx)(c.b,{exact:!0,to:"/createPost",children:"here!"})]}),Object(a.jsx)("div",{})]})}}]),n}(s.a.Component)),q=y(function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={title:void 0,country:void 0,city:void 0,description:void 0,image:void 0,isReady:!1},t.handleChange=function(e){var n=e.target,a=n.name,i=n.value;t.setState(Object(w.a)({},a,i))},t.handleFormSubmit=function(e){e.preventDefault();var n=t.state,a=n.title,i=n.country,s=n.city,r=n.description,o=n.image;t.props.match.params.userId;console.log("userId",t.props),v.a.post("".concat("https://travel-guru.herokuapp.com","/api/createPost"),{title:a,country:i,city:s,description:r,image:o},{withCredentials:!0}).then((function(){t.props.history.push("/myPosts/".concat(t.props.user._id))})).catch((function(t){return console.log(t)}))},t.handleFileUpload=function(e){console.log("The file to be uploaded is: ",e.target.files);var n=e.target.files[0],a=new FormData;a.append("image",n),v.a.post("".concat("https://travel-guru.herokuapp.com","/api/upload"),a,{withCredentials:!0}).then((function(e){console.log("response is: ",e),t.setState({image:e.data.secure_url,isReady:!0})})).catch((function(t){console.log("Error while uploading the file: ",t)}))},t}return Object(h.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:Object(a.jsx)("h2",{children:"Create a Post"})}),Object(a.jsx)("div",{children:Object(a.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(a.jsx)("label",{children:"Title:"}),Object(a.jsx)("input",{type:"text",name:"title",value:this.state.title,onChange:this.handleChange,required:!0}),Object(a.jsx)("label",{children:"Country:"}),Object(a.jsx)("input",{type:"text",name:"country",value:this.state.country,onChange:this.handleChange,required:!0}),Object(a.jsx)("label",{children:"City:"}),Object(a.jsx)("input",{type:"text",name:"city",value:this.state.city,onChange:this.handleChange,required:!0}),Object(a.jsx)("label",{children:"Description:"}),Object(a.jsx)("textarea",{name:"description",value:this.state.description,onChange:this.handleChange,required:!0}),Object(a.jsx)("label",{children:"Image"}),Object(a.jsx)("input",{name:"image",type:"file",onChange:this.handleFileUpload,required:!0}),Object(a.jsx)("span",{children:Object(a.jsx)("img",{style:{width:"100px"},src:this.state.image&&this.state.image,alt:""})}),Object(a.jsx)("input",{type:"submit",value:"Submit",disabled:!this.state.isReady})]})})]})}}]),n}(s.a.Component)),G=y(function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={title:void 0,country:void 0,city:void 0,description:void 0,image:void 0,isReady:!0},t.handleChange=function(e){var n=e.target,a=n.name,i=n.value;t.setState(Object(w.a)({},a,i))},t.handleFormSubmit=function(e){e.preventDefault();var n=t.state,a=n.title,i=n.country,s=n.city,r=n.description,o=n.image,c=t.props.match.params.postId;v.a.put("".concat("https://travel-guru.herokuapp.com","/api/editPost/").concat(c),{title:a,country:i,city:s,description:r,image:o},{withCredentials:!0}).then((function(){t.props.history.push("/myPosts/".concat(t.props.user._id))})).catch((function(t){return console.log(t)}))},t.handleFileUpload=function(e){console.log("The file to be uploaded is: ",e.target.files);var n=e.target.files[0],a=new FormData;a.append("image",n),t.setState({isReady:!1},(function(){v.a.post("".concat("https://travel-guru.herokuapp.com","/api/upload"),a,{withCredentials:!0}).then((function(e){console.log("response is: ",e),t.setState({image:e.data.secure_url,isReady:!0})})).catch((function(t){console.log("Error while uploading the file: ",t)}))}))},t.deleteHandler=function(){var e=t.props.match.params.postId,n=t.props.user._id;v.a.delete("".concat("https://travel-guru.herokuapp.com","/api/deletePost/").concat(e),{withCredentials:!0}).then((function(e){console.log("reponse",e),t.props.history.push("/myPosts/".concat(n))})).catch((function(t){return console.log(t)}))},t}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.postId;v.a.get("".concat("https://travel-guru.herokuapp.com","/api/post/").concat(e),{withCredentials:!0}).then((function(e){var n=e.data,a=n.title,i=n.country,s=n.city,r=n.description,o=n.image;t.setState({title:a,country:i,city:s,description:r,image:o})})).catch((function(t){return console.log(t)}))}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:Object(a.jsx)("h2",{children:"Edit Post"})}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(a.jsx)("label",{children:"Title:"}),Object(a.jsx)("input",{type:"text",name:"title",value:this.state.title,onChange:this.handleChange}),Object(a.jsx)("label",{children:"Country:"}),Object(a.jsx)("input",{type:"text",name:"country",value:this.state.country,onChange:this.handleChange}),Object(a.jsx)("label",{children:"City:"}),Object(a.jsx)("input",{type:"text",name:"city",value:this.state.city,onChange:this.handleChange}),Object(a.jsx)("label",{children:"Description:"}),Object(a.jsx)("textarea",{name:"description",value:this.state.description,onChange:this.handleChange}),Object(a.jsx)("label",{children:"Image"}),Object(a.jsx)("input",{name:"image",type:"file",onChange:this.handleFileUpload}),Object(a.jsx)("span",{children:Object(a.jsx)("img",{style:{width:"100px"},src:this.state.image&&this.state.image,alt:""})}),Object(a.jsx)("input",{type:"submit",value:"Submit",disabled:!this.state.isReady})]}),Object(a.jsx)("button",{onClick:this.deleteHandler,children:"Delete"})]})]})}}]),n}(s.a.Component)),Y=y(function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var t=this;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:this.props.travelLog.title}),this.props.travelLog.updated_at?Object(a.jsx)("h4",{children:this.props.travelLog.updated_at.slice(0,10).split("-").reverse().join("-")}):null,Object(a.jsx)("h3",{children:this.props.travelLog.country}),Object(a.jsx)("h4",{children:this.props.travelLog.city}),Object(a.jsx)("p",{children:this.props.travelLog.description}),Object(a.jsx)("button",{onClick:function(){return t.props.deleteHandler(t.props.travelLog._id)},children:"Delete"})]})}}]),n}(s.a.Component)),W=y(function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={travelLogsArr:[]},t.getTravelLogs=function(){v.a.get("".concat("https://travel-guru.herokuapp.com","/api/travelLogs"),{withCredentials:!0}).then((function(e){console.log("reponse",e);var n=e.data;t.setState({travelLogsArr:n})})).catch((function(t){return console.log(t)}))},t.deleteHandler=function(e){v.a.delete("".concat("https://travel-guru.herokuapp.com","/api/deleteTravelLog/").concat(e),{withCredentials:!0}).then((function(e){console.log("reponse",e),t.getTravelLogs()})).catch((function(t){return console.log(t)}))},t}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.getTravelLogs()}},{key:"render",value:function(){var t=this;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"My Travel Log"}),Object(a.jsx)("div",{children:Object(a.jsx)(c.b,{exact:!0,to:"/createTravelLog",children:Object(a.jsx)("button",{children:"Create Travel Log"})})}),this.state.travelLogsArr?this.state.travelLogsArr.map((function(e){return Object(a.jsx)("div",{children:Object(a.jsx)(Y,{travelLog:e,deleteHandler:t.deleteHandler})})})):null]})}}]),n}(s.a.Component)),J=y(function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={title:void 0,country:void 0,city:void 0,description:void 0},t.handleChange=function(e){var n=e.target,a=n.name,i=n.value;t.setState(Object(w.a)({},a,i))},t.handleFormSubmit=function(e){e.preventDefault();var n=t.state,a=n.title,i=n.country,s=n.city,r=n.description;console.log("userId",t.props),v.a.post("".concat("https://travel-guru.herokuapp.com","/api/createTravelLog"),{title:a,country:i,city:s,description:r},{withCredentials:!0}).then((function(){t.props.history.push("/travelLogs")})).catch((function(t){return console.log(t)}))},t}return Object(h.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:Object(a.jsx)("h2",{children:"Create Travel Log Entry"})}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(a.jsx)("label",{children:"Title:"}),Object(a.jsx)("input",{type:"text",name:"title",value:this.state.title,onChange:this.handleChange,required:!0}),Object(a.jsx)("label",{children:"Country:"}),Object(a.jsx)("input",{type:"text",name:"country",value:this.state.country,onChange:this.handleChange,required:!0}),Object(a.jsx)("label",{children:"City:"}),Object(a.jsx)("input",{type:"text",name:"city",value:this.state.city,onChange:this.handleChange,required:!0}),Object(a.jsx)("label",{children:"Description:"}),Object(a.jsx)("textarea",{name:"description",value:this.state.description,onChange:this.handleChange,required:!0}),Object(a.jsx)("input",{type:"submit",value:"Save"})]}),Object(a.jsx)(c.b,{exact:!0,to:"/travelLogs",children:Object(a.jsx)("button",{children:"Go back to your Travel Logs"})})]})]})}}]),n}(s.a.Component)),B=y(function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).deleteHandler=function(){var e=t.props.user._id;v.a.delete("".concat("https://travel-guru.herokuapp.com","/api/deleteProfileConfirmation/").concat(e),{withCredentials:!0}).then((function(e){console.log("reponse",e),t.props.logout()})).catch((function(t){return console.log(t)}))},t}return Object(h.a)(n,[{key:"render",value:function(){return console.log("props",this.props),Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Delete Your Account"}),Object(a.jsx)("p",{children:"Are you sure you want to delete your account? This will permanently erase your profile and all your posts"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{onClick:this.deleteHandler,children:"Delete"}),Object(a.jsx)(c.b,{to:"/profile/".concat(this.props.user._id),children:Object(a.jsx)("button",{children:"Cancel"})})]})]})}}]),n}(s.a.Component)),z=y(function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={favoritesArr:[]},t.getFavorites=function(){var e=t.props.user._id;v.a.get("".concat("https://travel-guru.herokuapp.com","/api/favoritePosts/").concat(e),{withCredentials:!0}).then((function(e){console.log("reponse",e.data);var n=e.data;t.setState({favoritesArr:n})})).catch((function(t){return console.log(t)}))},t.deleteHandler=function(e){v.a.delete("".concat("https://travel-guru.herokuapp.com","/api/deleteFavorite/").concat(e),{withCredentials:!0}).then((function(e){console.log("reponse",e),t.getFavorites()})).catch((function(t){return console.log(t)}))},t}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.getFavorites()}},{key:"render",value:function(){var t=this;return Object(a.jsxs)("div",{children:[this.state.favoritesArr&&this.state.favoritesArr.length>0?this.state.favoritesArr.map((function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)(U,{post:e}),Object(a.jsx)("button",{onClick:function(){return t.deleteHandler(e._id)},children:"Delete"})]})})):Object(a.jsxs)("p",{children:["You don't have any favorites \ud83d\udc94 You can add more favorites by searching for travel posts ",Object(a.jsx)(c.b,{exact:!0,to:"/dashboard",children:"here"})]}),Object(a.jsx)("div",{})]})}}]),n}(s.a.Component)),K=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return console.log("props",this.props),Object(a.jsxs)("div",{children:[Object(a.jsx)(C,{}),Object(a.jsxs)(d.d,{children:[Object(a.jsx)(F,{exact:!0,path:"/",component:S}),Object(a.jsx)(F,{exact:!0,path:"/signup",component:L}),Object(a.jsx)(F,{exact:!0,path:"/login",component:A}),Object(a.jsx)(P,{exact:!0,path:"/profile/:userId",component:I}),Object(a.jsx)(P,{exact:!0,path:"/editProfile/:userId",component:T}),Object(a.jsx)(P,{exact:!0,path:"/dashboard",component:R}),Object(a.jsx)(P,{exact:!0,path:"/postDetails/:postId",component:H}),Object(a.jsx)(P,{exact:!0,path:"/myPosts/:userId",component:E}),Object(a.jsx)(P,{exact:!0,path:"/createPost",component:q}),Object(a.jsx)(P,{exact:!0,path:"/editPost/:postId",component:G}),Object(a.jsx)(P,{exact:!0,path:"/travelLogs",component:W}),Object(a.jsx)(P,{exact:!0,path:"/createTravelLog",component:J}),Object(a.jsx)(P,{exact:!0,path:"/deleteProfileConfirmation/:userId",component:B}),Object(a.jsx)(P,{exact:!0,path:"/favoritePosts/:userId",component:z})]}),Object(a.jsx)(k,{})]})}}]),n}(i.Component);o.a.render(Object(a.jsx)(c.a,{children:Object(a.jsx)(f,{children:Object(a.jsx)(K,{})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.9a375c72.chunk.js.map